#include<stdio.h>
#include<ctype.h>
#include<string.h>
#include<stdlib.h>
int precedence(char opr){
    switch(opr){
        case '+':
        case '-':
          return 1;
        case '/':
          return 2;
        case '^':
          return 3;
        default:
          return 0;    
    }
}

char* infixtopost(char* infexp){
    int len = strlen(infexp), top= -1 , x=0;
    char *postfix = (char*)malloc(len+1);
    char operator[len];
    for(int i=0 ; i<len ; i++){
        int ch = infexp[i];
        if(isalnum(ch)){
           postfix[x++] = ch ; 
        }
        else if( ch == '+' || ch == '-' || ch == '*' || ch== '/'|| ch=='^'){
            while(top != -1 && precedence(ch)<=precedence(operator[top]) && ch!= '^'){

            }
            operator[++top] = ch;
        }
        else if(ch=='('){
            operator[++top] =ch;
        }
        else if(ch==')'){
            while(operator[top] != '('){
                postfix[x++] = operator[top--];
            }
            top--;
        }
    }
    while(top!= -1){
        postfix[x++] = operator[top--];
    }
    postfix[x]= '\0';
    return postfix;
}
int main(){
    char exp[100];
    printf("Enter infix expression: ");
    gets(exp);
    printf("Postfix expression is %s",infixtopost(exp) );
    return 0;
}
